<h1>One Shop</h1>

<div class="shopLogo">
  <img class="shopLogo" src="{{vm.shop.icon}}">
</div>


<p>Shop Name: {{ vm.shop.name }}</p>
<p>Bio: {{vm.shop.bio}}</p>
<p>Created By: {{ vm.shop.createdBy.username }}</p>
<p>Address: {{vm.shop.formatted_address}}</p>
<p>Telephone Number: {{vm.shop.international_phone_number}}</p>
<p>Email: {{ vm.shop.email }}</p>


<p>We need more: {{vm.shop.clothesWanted}}</p>
<p>We have too many: {{vm.shop.clothesNotWanted}}</p>

<button ng-if="vm.shop.createdBy._id === vm.currentUserId" ui-sref="shopEdit({id: vm.shop._id})"> Edit this Shop</button>
<button ng-if="vm.shop.createdBy._id === vm.currentUserId" ng-click="vm.delete(vm.shop)">Delete this Shop</button>
<hr>
<h3>Comments</h3>

<ul>
  <li ng-repeat="comment in vm.shop.comments track by $index">
    <p>Content: {{ comment.content }}</p>
    <p>Created By: {{ comment.createdBy.username }}</p>
    <div ng-if="comment.createdBy._id === vm.currentUserId">
      <button ng-click="vm.commentDelete(comment._id)">x</button>
    </div>
  </li>
</ul>

<form ng-submit="vm.handleNewComment()">
  <label for="comments">Add Comment:</label>
  <input type="text" ng-model="vm.comment.content">
  <input type="submit">
</form>
